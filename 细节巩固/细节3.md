# vite为什么快
  1. 先说模块热更新快，是因为维特基于原生ES模块，它能精准判断哪些模块受影响，只重新加载这些模块，而网络包热更新要重新处理整个模块图，开销就大。
  2. 生产环境打包文件又小又快，一方面维特(Vite)用了ESBuild这样高效的工具，它能快速打包代码，而且会做很多优化，像压缩代码、去除冗余等。另一方面维特支持摇树优化，能去掉那些没用到的代码，所以产出的文件小。
  3. 要是面试回答维特(Vite)为什么快，就从开发和生产两方面说。开发时，它利用浏览器原生ES模块，预构建处理部分依赖，启动快，模块热更新也快。生产时，借助高效打包工具和优化策略，文件又小又快.


### 1. 核心概念
- **原生 ES 模块支持**：  
  Vite 利用浏览器对原生 ES 模块（ESM）的支持，无需在开发阶段打包代码。浏览器通过 HTTP 请求按需加载模块，从而显著加快开发服务器的启动速度。
  
- 即时冷启动：  
  传统构建工具（如 Webpack）在开发模式下需要完整打包项目，导致启动时间较长。Vite 启动时仅启动一个轻量级开发服务器，直接提供源文件，启动速度通常在几百毫秒内。

- 模块热替换（HMR）：  
  Vite 提供了高效的 HMR 功能，更新某个模块时，只会重新编译和加载该模块，而不会刷新整个页面。这使得开发过程更加流畅。

- 按需编译：  
  Vite 在开发阶段按需编译模块，只有当浏览器请求某个模块时，才会编译该模块。这种方式避免了不必要的编译，提高了开发效率。

### 2. 工作原理
- **开发阶段**：
  1. 启动开发服务器：  
     Vite 启动一个轻量级开发服务器，基于浏览器原生 ESM 特性，直接提供源文件。
  2. 依赖预构建：  
     Vite 使用 `esbuild` 预构建依赖项（如将 CommonJS 模块转换为 ESM），以加快模块解析速度。
  3. 按需加载：  
     浏览器请求某个模块时，Vite 才会编译并返回该模块。这种方式避免了传统构建工具的全量打包，显著提升了开发速度。
  4. HMR 实现：  
     Vite 通过 WebSocket 与浏览器通信，当检测到文件变更时，仅更新相关模块，无需刷新页面。

- **生产阶段**：
  1. 代码打包：  
     Vite 使用 Rollup 进行生产构建，生成优化的静态资源（如 JavaScript、CSS）。
  2. 优化策略：  
     - Tree Shaking：移除未使用的代码。
     - 代码分割：将代码分割为更小的块，按需加载。
     - 压缩：压缩代码以减小文件体积。

---

### 3. 技术优势
- 极速启动：  
  由于无需打包，Vite 的开发服务器启动速度极快，通常在几百毫秒内完成。

- 高效 HMR：  
  Vite 的 HMR 响应速度极快，修改代码后几乎可以立即在浏览器中看到效果。

- 简化配置：  
  Vite 的配置非常简单，通常只需一个 `vite.config.js` 文件即可完成项目配置。

- 丰富的插件生态：  
  Vite 提供了丰富的插件系统，支持各种功能扩展，如 TypeScript、CSS 预处理器、代码分割等。

- 支持多种框架：  
  Vite 官方支持 Vue、React、Preact、Lit 等框架，社区也提供了对 Svelte 等框架的支持。

---

### 4. 关键技术点
- ESBuild：  
  Vite 使用 `esbuild` 进行依赖预构建，`esbuild` 是用 Go 编写的 JavaScript 打包工具，速度比传统的 JavaScript 打包工具（如 Babel）快 10-100 倍。

- Koa 服务器：  
  Vite 使用 Koa 作为开发服务器，拦截浏览器请求并动态编译模块。

- 模块路径重写：  
  Vite 使用 `es-module-lexer` 和 `magic-string` 解析和重写模块路径，以适应浏览器的模块加载机制。

---


# 三种常见攻击个人理解


# 调用三方api、微信支付、电脑/手机的摄像头、定位、通讯录等该怎么实现(前后端都思考)

